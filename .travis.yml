language: php

php:
  - 5.3
#  - 5.4
#  - 5.5
#  - 5.6

branches:
  only:
    - master

matrix:
  fast_finish: true
  include:
    - php: 5.3
      env: deps="low"
#    - php: 5.5
#      env: SYMFONY_VERSION='2.3.* symfony/expression-language:2.4.*'
#    - php: 5.5
#      env: SYMFONY_VERSION=2.4.*
#    - php: 5.5
#      env: SYMFONY_VERSION=2.6.*
#    - php: 5.5
#      env: SYMFONY_VERSION='2.7.*@dev'

before_script:
  - composer self-update
  - composer install --dev

after_script:
  - CODECLIMATE_REPO_TOKEN=34a179db63627817d4e2cfaa793010aad7a88f1cb997407471e4a012ca9118d2 ./vendor/bin/test-reporter

script: phpunit --coverage-clover build/logs/clover.xml

